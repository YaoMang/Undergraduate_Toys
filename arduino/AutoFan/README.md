# README

## UpdateNote

* v2.0
  * 添加了 `serialControl()`，允许通过串口控制风扇运行
  * 移除了向日葵
* v2.1
  * 为`Display()`设置了等待时间，防止闪烁

## GlobalVar

* 针脚设置
  * Display
    * 设置LCD引脚
    * 使用Arduino标准库预定义变量，具备可移植性
  * Functional
    * 温度传感器引脚
    * 风扇控制引脚
* 全局变量
  * 用于风扇转速显示的字符串（包含一个空字符串防止空指针产生）
  * 用于存放将要显示字符串的`3Byte`空间
  * 用于字符串操作的两个 `const char *` 变量
  * `LiquidCrystal`类的实例化
  * 温度转化系数的初始化
  * 温度与风扇转速
  * `setFanSpeed()`执行控制变量
  * `serialControl()`控制变量
  * 时间戳与时间间隔变量

## Functions

* `setup()`
  * 初始化LCD模块规格
  * 设置风扇转速控制引脚
  * 设置电压参考模式
* `loop()`
  * `serialControl()`
    * 接收来自串口的信息，直接控制主程序运行
      * 接收一个字节 0x00或0x01
      * `0x00` 时关闭风扇和主程序
      * `0x01` 时重新执行主程序
    * 刷新屏幕，表明运行状态
    * 停止风扇工作
  * `temperatureFetch()`
    * 用于获取来自温度传感器信息并将其转换为`uint8_t`类型
    * 至少间隔200ms执行一次
    * 能够应对Arduino时间溢出的问题
  * `setFanSpeed()`
    * 用于设置风扇转速
    * 总是在已经读取过温度后设置风扇转速
    * 由于不需要线性风扇转速直接使用硬编码
  * `display()`
    * 将采集到的信息输出到LCD上
    * 仅针对 16*2 液晶显示模块
    * 至少间隔2000ms更新一次显示信息
    * 能够应对Arduino时间溢出问题
